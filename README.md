
# פלטפורמת הזמנת ספרים - ישיבת שבי חברון

זוהי אפליקציית רשת המאפשרת לתלמידי ישיבת שבי חברון להזמין ספרי לימוד בתחילת השנה. האפליקציה כוללת ממשק לבחירת ספרים, תהליך תשלום מבוסס העברה בנקאית, ומערכת ניהול לצפייה וייצוא של ההזמנות.

הפרויקט בנוי עם React, TypeScript, ו-Vite בחלק הקדמי (Frontend), ומשתמש ב-Serverless Functions (בתיקיית `/api`) כדי לתקשר עם מסד נתונים של MongoDB בחלק האחורי (Backend).

---

## הרצה מקומית (על המחשב שלך)

בצע את השלבים הבאים כדי להריץ את הפרויקט בסביבת פיתוח מקומית שמדמה באופן מלא את סביבת האינטרנט.

### דרישות קדם

- [Node.js](https://nodejs.org/) (גרסה 18 ומעלה)
- [Git](https://git-scm.com/)
- חשבון [MongoDB Atlas](https://www.mongodb.com/cloud/atlas) (השכבה החינמית מספיקה)
- חשבון [GitHub](https://github.com/)
- חשבון [Vercel](https://vercel.com/) (התחברות דרך חשבון ה-GitHub מומלצת)

---

### שלב 1: הקמת מאגר קוד ב-GitHub

הקוד של הפרויקט צריך להיות מאוחסן במאגר (Repository) אינטרנטי.

1.  **צור מאגר חדש ב-GitHub:** היכנס לחשבון ה-GitHub שלך, לחץ על "+" ובחר "New repository".
2.  **העלה את קבצי הפרויקט:** לאחר יצירת המאגר, השתמש ב-Git כדי להעלות את קבצי הפרויקט שלך (ראה מדריכים ל-`git push`).
3.  **העתק את כתובת ה-URL של המאגר:** היא תיראה כך: `https://github.com/your-username/your-repository-name.git`.

### שלב 2: שכפול הפרויקט למחשב

פתח טרמינל (Terminal או Command Prompt), נווט לתיקייה הרצויה, והרץ את הפקודות:

```bash
# החלף את ה-URL בכתובת המאגר שלך
git clone https://github.com/your-username/your-repository-name.git

# היכנס לתיקיית הפרויקט
cd your-repository-name
```

### שלב 3: הגדרת קובץ `.gitignore`

זהו שלב קריטי לאבטחה. צור בתיקייה הראשית של הפרויקט קובץ בשם **`.gitignore`** והדבק בו את התוכן הבא כדי למנוע העלאת מידע רגיש ותיקיות מיותרות ל-GitHub.

```gitignore
# Dependencies
/node_modules

# Build output
/dist

# Environment variables - DO NOT COMMIT
.env
.env.local
.env.development.local

# Logs and editor files
npm-debug.log*
.idea
.vscode
```

### שלב 4: התקנת תלויות

הרץ את הפקודה הבאה בטרמינל כדי להתקין את כל החבילות שהפרויקט צריך:

```bash
npm install
```

### שלב 5: הגדרת משתני סביבה מקומיים

צור קובץ חדש בתיקייה הראשית בשם **`.env`**. קובץ זה ישמש **אך ורק להרצה על המחשב שלך**.

העתק לקובץ את התוכן הבא והחלף את הערכים בפרטים האמיתיים שלך:

```env
# פרטי התחברות למסד הנתונים
MONGO_URI="mongodb+srv://<user>:<password>@cluster.mongodb.net/"
MONGO_DB_NAME="שם_מסד_הנתונים_שלך"

# סיסמת מנהל לאתר
ADMIN_PASSWORD="סיסמה_חזקה_לבחירתך"

# פרטי חשבון הבנק (יוצגו למשתמש)
VITE_BANK_ACCOUNT_NAME="ישיבת שבי חברון"
VITE_BANK_NAME="בנק לדוגמא"
VITE_BANK_BRANCH="001"
VITE_BANK_ACCOUNT_NUMBER="123456789"
```

### שלב 6: התקנת Vercel CLI (חד-פעמי)

כדי להריץ את סביבת השרת המלאה (Frontend + Backend), עליך להתקין את ממשק שורת הפקודה (CLI) של Vercel. זוהי התקנה גלובלית חד-פעמית.

```bash
npm install -g vercel
```
לאחר ההתקנה, התחבר לחשבון ה-Vercel שלך:
```bash
vercel login
```
ייפתח דפדפן שיבקש ממך להתחבר. מומלץ לבחור באפשרות "Continue with GitHub".

### שלב 7: הרצת שרת הפיתוח המלא

עכשיו, במקום `npm run dev`, השתמש בפקודה הבאה כדי להפעיל את הפרויקט:

```bash
vercel dev
```

**למה זה הכרחי?** הפקודה `vercel dev` מריצה סביבה מלאה שמדמה את האינטרנט: היא מפעילה גם את שרת ה-Frontend (כמו `npm run dev`) וגם מריצה את פונקציות ה-Backend שבתיקיית `/api`. זה פותר את שגיאות ה-`404 Not Found` ומאפשר לאפליקציה לתקשר עם עצמה כראוי.

---

## העלאה לאינטרנט (Deployment) - מדריך מלא ל-Vercel

מדריך זה ילווה אותך צעד-אחר-צעד בתהליך העלאת האפליקציה לאינטרנט.

### שלב 1: התחברות וייבוא הפרויקט

1.  ודא שהקוד המעודכן של הפרויקט נמצא במאגר שלך ב-GitHub.
2.  היכנס לחשבון שלך באתר **Vercel**.
3.  בלוח הבקרה (Dashboard), לחץ על **Add New...** ובחר **Project**.
4.  במסך שיופיע, מצא את מאגר ה-GitHub של הפרויקט שלך ולחץ על **Import**. (אם זו הפעם הראשונה, ייתכן שתצטרך לתת ל-Vercel הרשאות גישה לחשבון ה-GitHub שלך).

### שלב 2: הגדרת הפרויקט ב-Vercel

לאחר הייבוא, יופיע מסך הגדרות. ברוב המקרים, Vercel מזהה את ההגדרות אוטומטית.

1.  **Project Name:** בחר שם לפרויקט (למשל, `yeshiva-bookstore`).
2.  **Framework Preset:** ודא ש-Vercel זיהה את הפרויקט כ-**Vite**.
3.  **Root Directory:** השאר את ברירת המחדל (התיקייה הראשית).
4.  **Build and Output Settings:** השאר את ברירת המחדל. Vercel יודע את הפקודות הדרושות.

### שלב 3: הגדרת משתני סביבה (השלב החשוב ביותר)

גלול למטה לקטע **Environment Variables**. כאן עליך להזין את כל המידע הרגיש מהקובץ המקומי `.env` שלך, כדי ששרתי Vercel ידעו להתחבר למסד הנתונים ולהשתמש בסיסמת המנהל.

עליך להוסיף את המשתנים הבאים, **אחד אחרי השני**:

| שם המשתנה (Key)              | הערך (Value)                                     |
| ---------------------------- | ------------------------------------------------- |
| `MONGO_URI`                  | העתק את מחרוזת החיבור המלאה מ-MongoDB Atlas.       |
| `MONGO_DB_NAME`              | שם מסד הנתונים שלך (למשל, `yeshiva-orders`).      |
| `ADMIN_PASSWORD`             | סיסמת המנהל שבחרת.                                |
| `VITE_BANK_ACCOUNT_NAME`     | שם המוטב (למשל, `ישיבת שבי חברון`).                |
| `VITE_BANK_NAME`             | שם הבנק.                                          |
| `VITE_BANK_BRANCH`           | מספר הסניף.                                      |
| `VITE_BANK_ACCOUNT_NUMBER`   | מספר החשבון.                                     |

**חשוב:** ודא שהשמות מדויקים לחלוטין. אל תוסיף מרכאות סביב הערכים.

### שלב 4: פריסה (Deploy)

לאחר שהזנת את כל משתני הסביבה, לחץ על הכפתור **Deploy**.

Vercel יתחיל בתהליך:
*   ימשוך את הקוד מ-GitHub.
*   יתקין את התלויות (`npm install`).
*   יבנה את הפרויקט (`npm run build`).
*   יעלה את האתר המוכן והפונקציות לאינטרנט.

התהליך לוקח דקה או שתיים. בסיומו, אם הכל עבר בהצלחה, תראה מסך חגיגי עם זיקוקים.

### שלב 5: האתר באוויר!

במסך ההצלחה, Vercel יספק לך קישור (Domain) לאתר הפעיל שלך. לחץ עליו כדי לראות את האפליקציה פועלת באינטרנט.

**עדכונים עתידיים:** מכאן והלאה, כל פעם שתבצע `git push` לענף הראשי (`main` או `master`) ב-GitHub, Vercel יזהה את השינוי ויתחיל תהליך פריסה חדש באופן אוטומטי.
